/*+----------------------------------------------------------------+
  |	Title:		TexCacheBase.cpp [GLES2.0環境]
  |	Comment:	テクスチャキャッシュ基底
  |	Author:		K.Takayanagi
  +----------------------------------------------------------------+*/
/*+----------------------------------------------------------------+
  |	Include		インクルードヘッダ
  +----------------------------------------------------------------+*/
#include "env.hpp"
#include "TexCacheBase.hpp"

/*+----------------------------------------------------------------+
  |	Define		デファイン定義
  +----------------------------------------------------------------+*/
/*+----------------------------------------------------------------+
  |	Struct		構造体型宣言
  +----------------------------------------------------------------+*/
/*+----------------------------------------------------------------+
  |	Prototype	プロトタイプ宣言
  +----------------------------------------------------------------+*/
/*+----------------------------------------------------------------+
  |	Global		グローバルデータ型定義
  +----------------------------------------------------------------+*/
// ワーク
CDrawCell CTexCacheBase::s_oDC;

/*+----------------------------------------------------------------+
  |	Program		プログラム実装
  +----------------------------------------------------------------+*/
//---------------------------
// コンストラクタ
//---------------------------
CTexCacheBase::CTexCacheBase( void ){
	clear();
}

//---------------------------
// クリア
//---------------------------
void CTexCacheBase::clear( void ){
	m_oTex.release();
	m_nUnusedCount = -1;
}

//---------------------------
// テクスチャの取得
//---------------------------
CTex* CTexCacheBase::getCachedTex( void ){
	// 利用されたので未使用カウンタはリセット
	resetUnusedCount();

	return( &m_oTex );
}
